document.addEventListener('DOMContentLoaded', function() {
    // Массивы с фразами из каждой колонки
    const phrases = {
        col1: [
            "Спасибо, что написали.",
            "Спасибо, что рассказали.",
            "Спасибо, что сообщили.",
            "Спасибо за вопрос.",
            "Сейчас попробую всё прояснить.",
            "Спасибо, что уточняете. Позвольте, я поясню.",
            "Конечно, сейчас всё подскажу.",
            "Я помогу разобраться.",
            "Спасибо, что подождали.",
            "Спасибо, что нашли время рассказать об этом.",
            "Правильно сделали, что написали нам.",
            "Получили ваше обращение и уже смотрим, в чём дело.",
            "Начали изучать детали по вашей проблеме.",
            "Уже смотрим, что произошло.",
            "Хорошо, что вы написали.",
            "Спасибо большое, что поделились.",
            "Спасибо за такой важный вопрос.",
            "Спасибо, что обратились.",
            "Хорошо, что вы спросили об этом.",
            "Спасибо за уточнения.",
            "Рад(а), что вам интересно сотрудничество ...",
            "Рад(а), что хотите участвовать в ... Чтобы попасть в программу ...",
            "Спасибо, что подождали. В этот раз решение затянулось, но я готов(а) рассказать..."
        ],
        col2: [
            "Этот момент действительно может вызывать вопросы.",
            "Понимаю ваше возмущение — это действительно очень неприятно.",
            "Понимаю, как это мешает работе.",
            "Понимаю, что это неудобно.",
            "Вижу, что ситуация вызывает сильные эмоции. Я с вами, давайте разберёмся, что произошло.",
            "Мне жаль, что вам пришлось столкнуться с этой ситуацией.",
            "Понимаю, что вы хотели бы как можно скорее",
            "Мне жаль, что вам пришлось столкнуться с ожиданием. Понимаю, как это может раздражать.",
            "Мне жаль, что сейчас операция недоступна — понимаю, насколько это неудобно.",
            "Мне жаль, что ситуация нарушила ваши планы.",
            "Понимаю, что это помешало вашей работе",
            "Это действительно недопустимо.",
            "Так правда не должно быть.",
            "Понимаю, что вы рассчитывали на более быстрое решение вопроса",
            "Понимаю вашу тревогу",
            "Понимаю, почему возникает вопрос",
            "Понимаю ваше желание уточнить этот момент.",
            "Да, вопрос и правда требует пояснений.",
            "Это действительно важный вопрос.",
            "Понимаю ваше желания прояснить вопрос — он очень важен для...",
            "Да, ситуация и правда неприятная — так быть, конечно, не должно.",
            "Понимаю ваше беспокойство — ситуации с [НАПИСАТЬ С ЧЕМ] действительно неприятные, особенно когда они происходят внезапно.",
            "Ситуация и правда очень сложная и нестандартная."
        ],
        col3: [
            "Вот, что нужно сделать, чтобы",
            "Мы всё проверили — теперь вы можете",
            "Если вы уже пробовали [СДЕЛАТЬ О ЧЕМ МЫ ПИШЕМ], но у вас не получилось — напишите, пожалуйста, я выясню причину.",
            "Смотрите, есть два варианта, как [ЧТО НУЖНО КЛИЕНТУ]",
            "А ещё можно вот так:",
            "Вот, что я обычно рекомендую в таких ситуациях:",
            "Пожалуйста, попробуйте ещё вот так:",
            "Объясню, в чём тут дело",
            "Вот, что здесь важно учитывать:",
            "Сейчас расскажу, где это посмотреть:",
            "Здесь стоит обратить внимание вот на что:",
            "На всякий случай уточню, что",
            "Так может быть, если",
            "Хотите, я подскажу, как",
            "Пожалуйста, попробуйте/сделайте ..., после этого всё должно получиться",
            "Я прописал/а для вас максимально подробную инструкцию",
            "Постараюсь объяснить, почему так происходит.",
            "Давайте всё объясню.",
            "Давайте расскажу, почему так произошло.",
            "Сейчас всё объясню.",
            "Сейчас постараемся вас сориентировать.",
            "Дело в том, что"
        ],
        col4: [
            "Извините за ожидание — потребовалось больше времени, чем планировали.",
            "Извините за эти неудобства — мы уже решаем проблему.",
            "Простите, что подвели.",
            "Простите, так действительно не должно быть.",
            "Извините, в предыдущем сообщении была неточность.",
            "Извините, что ожидание заняло так много времени",
            "Извините, что решение заняло больше времени, чем обычно.",
            "Извините, что заняли так много времени.",
            "Простите, мы стараемся предотвращать такие ситуации.",
            "Простите, мы ошиблись в предыдущем ответе.",
            "Простите, что запутали.",
            "Простите, что так вышло.",
            "Ещё раз прошу прощения.",
            "Извините, что заставили волноваться.",
            "Простите, мы ошиблись в предыдущем ответе. Сейчас расскажем, как",
            "Извините, что в прошлых ответах могли выразиться не совсем точно. И спасибо, что дали нам время всё уточнить"
        ],
        col5: [
            "Мы продолжаем работу по вашему вопросу, я вернусь с ответом, как только появится новая информация.",
            "Спасибо за терпение. Скоро вернусь с ответом.",
            "Мы уже разбираемся, чтобы как можно быстрее решить ваш вопрос.",
            "Благодарю за ожидание — ситуация нестандартная, и мы стараемся как можно быстрее решить её.",
            "Я поднял/а приоритет вашего обращения.",
            "Я договорился/ась о дополнительной проверке.",
            "Я попросил/а ускорить проверку.",
            "Я проверяю обновления по вашему обращению.",
            "Я отметил/а вопрос как срочный.",
            "Я передал/а информацию с пометкой о срочности",
            "Я попросил/а рассмотреть вопрос в приоритетном порядке",
            "Проверяем, что случилось, и узнаём, что можно сделать.",
            "Уже смотрим, что произошло. Свяжемся с вами, как выясним все детали.",
            "Уже разбираемся в вашем вопросе.",
            "Начали изучать детали по вашей проблеме.",
            "Проверяем, что случилось, и узнаём, что можно сделать. Сразу вам напишем, когда всё выясним."
        ],
        col6: [
            "Если появятся вопросы, обязательно пишите, мы рядом.",
            "Если вы снова столкнётесь с проблемой, буду рад/а вам помочь.",
            "Если возникнут вопросы, мы готовы помочь вам в любой момент.",
            "Надеюсь, что мне удалось вам помочь. Пишите по любым вопросам — я всегда рядом!",
            "Рад/а был помочь. Если что-то понадобится — пишите.",
            "Благодарим за обращение — всегда рады помочь.",
            "Надеюсь, у меня получилось помочь. Если нужно ещё что-то уточнить, напишите обязательно, я помогу.",
            "Очень надеюсь, что мне удалось вас сориентировать. Если нужны подробности или остались вопросы, пожалуйста, обращайтесь — я на связи!",
            "Обязательно напишите, если что-то пойдёт не так — я помогу!",
            "Надеюсь, сейчас всё стало понятнее. Если будут вопросы — напишите, пожалуйста.",
            "Если что-то ещё потребуется — я на связи.",
            "Буду рядом, если понадобится помощь.",
            "Если вдруг что-то останется неясным — напишите, разберёмся вместе.",
            "Буду рад/а продолжить диалог, если появятся вопросы.",
            "Если снова не получится — дайте знать, посмотрим ещё раз",
            "Надеюсь, мой совет поможет вам сэкономить время",
            "Если появятся ещё вопросы, обращайтесь.",
            "Если у вас появятся ещё вопросы, напишите — мы на связи.",
            "Если у вас появятся ещё вопросы, напишите — мы во всём разберёмся и подскажем, что можно сделать.",
            "Надеюсь, у меня получилось вам помочь. Если появятся ещё вопросы, дайте знать.",
            "Если у вас появятся ещё вопросы, обязательно напишите. Во всём разберёмся и подскажем, что нужно сделать.",
            "Напишите, если у вас возникнут какие-либо вопросы. Вместе во всём разберёмся.",
            "Напишите, если нужно будет помочь ещё с чем-то разобраться.",
            "Если у вас остались ещё вопросы, дайте знать."
        ]
    };

    // Функция для получения случайной фразы из массива
    function getRandomPhrase(column) {
        const columnPhrases = phrases[column];
        const randomIndex = Math.floor(Math.random() * columnPhrases.length);
        return columnPhrases[randomIndex];
    }

    // Функция для сборки ответа
    function generateResponse() {
        const solution = document.getElementById('solution-text').value.trim();
        
        if (!solution) {
            alert('Пожалуйста, введите ваш ответ с решением');
            return;
        }

        // Получаем случайные фразы из каждой колонки
        const phrase1 = getRandomPhrase('col1');
        const phrase2 = getRandomPhrase('col2');
        const phrase3 = getRandomPhrase('col3');
        const phrase4 = getRandomPhrase('col4');
        const phrase5 = getRandomPhrase('col5');
        const phrase6 = getRandomPhrase('col6');

        // Собираем ответ в правильном порядке
        const fullResponse = `${phrase1} ${phrase2} ${phrase3} ${solution} ${phrase4} ${phrase5} ${phrase6}`;

        // Отображаем результат
        document.getElementById('result-box').textContent = fullResponse;
    }

    // Функция для копирования в буфер обмена
    function copyToClipboard() {
        const resultText = document.getElementById('result-box').textContent;
        
        if (!resultText) {
            alert('Сначала сгенерируйте ответ');
            return;
        }

        navigator.clipboard.writeText(resultText).then(() => {
            // Визуальная обратная связь
            const copyBtn = document.getElementById('copy-btn');
            const originalText = copyBtn.textContent;
            copyBtn.textContent = '✅ Скопировано!';
            setTimeout(() => {
                copyBtn.textContent = originalText;
            }, 2000);
        }).catch(err => {
            alert('Не удалось скопировать текст');
        });
    }

    // Навешиваем обработчики на кнопки
    document.getElementById('generate-btn').addEventListener('click', generateResponse);
    document.getElementById('copy-btn').addEventListener('click', copyToClipboard);

    // Генерируем первый ответ при загрузке страницы
    setTimeout(() => {
        if (document.getElementById('solution-text').value.trim()) {
            generateResponse();
        }
    }, 100);
});
